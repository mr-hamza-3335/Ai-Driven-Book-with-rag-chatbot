"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[853],{2333(n,e,i){i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"ros2-basics","title":"Chapter 2: ROS 2 Fundamentals for Humanoid Robotics","description":"Learning Objectives","source":"@site/docs/02-ros2-basics.md","sourceDirName":".","slug":"/ros2-basics","permalink":"/ros2-basics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Chapter 1: Introduction to Physical AI & Humanoid Robotics","permalink":"/introduction"},"next":{"title":"Chapter 3: Gazebo Simulation for Humanoid Robots","permalink":"/gazebo-simulation"}}');var s=i(4848),o=i(8453);const t={},a="Chapter 2: ROS 2 Fundamentals for Humanoid Robotics",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"2.1 Introduction to ROS 2",id:"21-introduction-to-ros-2",level:2},{value:"What is ROS 2?",id:"what-is-ros-2",level:3},{value:"Why ROS 2 for Humanoids?",id:"why-ros-2-for-humanoids",level:3},{value:"2.2 Installation and Setup",id:"22-installation-and-setup",level:2},{value:"Installing ROS 2 Humble",id:"installing-ros-2-humble",level:3},{value:"Environment Setup",id:"environment-setup",level:3},{value:"2.3 ROS 2 Core Concepts",id:"23-ros-2-core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Topic Communication Pattern",id:"topic-communication-pattern",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"2.4 Quality of Service (QoS)",id:"24-quality-of-service-qos",level:2},{value:"QoS Comparison",id:"qos-comparison",level:3},{value:"2.5 Humanoid Robot Description",id:"25-humanoid-robot-description",level:2},{value:"URDF/Xacro Format",id:"urdfxacro-format",level:3},{value:"Robot State Publisher",id:"robot-state-publisher",level:3},{value:"2.6 Visualization with RViz2",id:"26-visualization-with-rviz2",level:2},{value:"Basic RViz2 Configuration",id:"basic-rviz2-configuration",level:3},{value:"Launching RViz2",id:"launching-rviz2",level:3},{value:"2.7 Building a Humanoid Package",id:"27-building-a-humanoid-package",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"package.xml",id:"packagexml",level:3},{value:"setup.py",id:"setuppy",level:3},{value:"2.8 TF2 Transform Library",id:"28-tf2-transform-library",level:2},{value:"Broadcasting Transforms",id:"broadcasting-transforms",level:3},{value:"Listening to Transforms",id:"listening-to-transforms",level:3},{value:"Chapter Summary",id:"chapter-summary",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Hands-On Exercises",id:"hands-on-exercises",level:2},{value:"Lab: Simple Humanoid Simulation",id:"lab-simple-humanoid-simulation",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"chapter-2-ros-2-fundamentals-for-humanoid-robotics",children:"Chapter 2: ROS 2 Fundamentals for Humanoid Robotics"})}),"\n",(0,s.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Install and configure ROS 2 Humble for humanoid development"}),"\n",(0,s.jsx)(e.li,{children:"Understand the ROS 2 architecture and communication patterns"}),"\n",(0,s.jsx)(e.li,{children:"Create nodes, topics, services, and actions"}),"\n",(0,s.jsx)(e.li,{children:"Build a basic humanoid control package"}),"\n",(0,s.jsx)(e.li,{children:"Use visualization and debugging tools"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"21-introduction-to-ros-2",children:"2.1 Introduction to ROS 2"}),"\n",(0,s.jsx)(e.h3,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,s.jsx)(e.p,{children:"ROS 2 (Robot Operating System 2) is a flexible framework for writing robot software. Despite its name, it's not an operating system but rather:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["A ",(0,s.jsx)(e.strong,{children:"middleware"})," for robot communication"]}),"\n",(0,s.jsxs)(e.li,{children:["A ",(0,s.jsx)(e.strong,{children:"set of tools"})," for development and debugging"]}),"\n",(0,s.jsxs)(e.li,{children:["A ",(0,s.jsx)(e.strong,{children:"collection of libraries"})," for common robotics tasks"]}),"\n",(0,s.jsxs)(e.li,{children:["An ",(0,s.jsx)(e.strong,{children:"ecosystem"})," of packages and community support"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"why-ros-2-for-humanoids",children:"Why ROS 2 for Humanoids?"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Feature"}),(0,s.jsx)(e.th,{children:"Benefit for Humanoids"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Real-time support"}),(0,s.jsx)(e.td,{children:"Critical for balance control"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"DDS middleware"}),(0,s.jsx)(e.td,{children:"Reliable inter-process communication"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Lifecycle nodes"}),(0,s.jsx)(e.td,{children:"Managed startup/shutdown"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Quality of Service"}),(0,s.jsx)(e.td,{children:"Configurable reliability"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Multi-platform"}),(0,s.jsx)(e.td,{children:"Linux, Windows, macOS"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"22-installation-and-setup",children:"2.2 Installation and Setup"}),"\n",(0,s.jsx)(e.h3,{id:"installing-ros-2-humble",children:"Installing ROS 2 Humble"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Ubuntu 22.04 installation\nsudo apt update && sudo apt install locales\nsudo locale-gen en_US en_US.UTF-8\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\n\n# Add ROS 2 repository\nsudo apt install software-properties-common\nsudo add-apt-repository universe\nsudo apt update && sudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key \\\n  -o /usr/share/keyrings/ros-archive-keyring.gpg\n\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] \\\n  http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" \\\n  | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n\n# Install ROS 2\nsudo apt update\nsudo apt install ros-humble-desktop\n'})}),"\n",(0,s.jsx)(e.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Add to ~/.bashrc\necho "source /opt/ros/humble/setup.bash" >> ~/.bashrc\nsource ~/.bashrc\n\n# Verify installation\nros2 --version\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"23-ros-2-core-concepts",children:"2.3 ROS 2 Core Concepts"}),"\n",(0,s.jsx)(e.h3,{id:"nodes",children:"Nodes"}),"\n",(0,s.jsx)(e.p,{children:"Nodes are the fundamental processing units in ROS 2:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"# humanoid_node.py\nimport rclpy\nfrom rclpy.node import Node\n\nclass HumanoidController(Node):\n    def __init__(self):\n        super().__init__('humanoid_controller')\n        self.get_logger().info('Humanoid controller initialized')\n\n        # Create timer for control loop\n        self.timer = self.create_timer(0.01, self.control_loop)  # 100 Hz\n\n    def control_loop(self):\n        # Main control logic here\n        pass\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = HumanoidController()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(e.h3,{id:"topics",children:"Topics"}),"\n",(0,s.jsx)(e.p,{children:"Topics enable publish/subscribe communication:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from sensor_msgs.msg import JointState\nfrom geometry_msgs.msg import Twist\n\nclass HumanoidController(Node):\n    def __init__(self):\n        super().__init__('humanoid_controller')\n\n        # Publisher for joint commands\n        self.joint_pub = self.create_publisher(\n            JointState,\n            '/joint_commands',\n            10\n        )\n\n        # Subscriber for velocity commands\n        self.vel_sub = self.create_subscription(\n            Twist,\n            '/cmd_vel',\n            self.velocity_callback,\n            10\n        )\n\n    def velocity_callback(self, msg):\n        self.get_logger().info(f'Received velocity: {msg.linear.x}')\n"})}),"\n",(0,s.jsx)(e.h3,{id:"topic-communication-pattern",children:"Topic Communication Pattern"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      /joint_states       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Joint State   \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502   Visualizer    \u2502\n\u2502   Publisher     \u2502                           \u2502   (RViz2)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      /cmd_vel            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Teleop        \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502   Motion        \u2502\n\u2502   Controller    \u2502                           \u2502   Planner       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.h3,{id:"services",children:"Services"}),"\n",(0,s.jsx)(e.p,{children:"Services provide request/response communication:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from std_srvs.srv import SetBool\n\nclass HumanoidController(Node):\n    def __init__(self):\n        super().__init__('humanoid_controller')\n\n        # Create service\n        self.enable_srv = self.create_service(\n            SetBool,\n            '/enable_motors',\n            self.enable_motors_callback\n        )\n\n    def enable_motors_callback(self, request, response):\n        if request.data:\n            self.get_logger().info('Enabling motors')\n            # Enable motor logic\n            response.success = True\n            response.message = 'Motors enabled'\n        else:\n            self.get_logger().info('Disabling motors')\n            response.success = True\n            response.message = 'Motors disabled'\n        return response\n"})}),"\n",(0,s.jsx)(e.h3,{id:"actions",children:"Actions"}),"\n",(0,s.jsx)(e.p,{children:"Actions handle long-running tasks with feedback:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from rclpy.action import ActionServer\nfrom humanoid_interfaces.action import WalkTo\n\nclass WalkController(Node):\n    def __init__(self):\n        super().__init__('walk_controller')\n\n        self._action_server = ActionServer(\n            self,\n            WalkTo,\n            'walk_to',\n            self.execute_callback\n        )\n\n    async def execute_callback(self, goal_handle):\n        self.get_logger().info('Executing walk goal...')\n\n        feedback_msg = WalkTo.Feedback()\n        result = WalkTo.Result()\n\n        # Simulate walking with feedback\n        for i in range(100):\n            feedback_msg.progress = float(i) / 100.0\n            goal_handle.publish_feedback(feedback_msg)\n            await asyncio.sleep(0.1)\n\n        goal_handle.succeed()\n        result.success = True\n        return result\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"24-quality-of-service-qos",children:"2.4 Quality of Service (QoS)"}),"\n",(0,s.jsx)(e.p,{children:"QoS profiles control communication reliability:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, HistoryPolicy\n\n# Reliable QoS for critical data\nreliable_qos = QoSProfile(\n    reliability=ReliabilityPolicy.RELIABLE,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=10\n)\n\n# Best-effort QoS for sensor data\nsensor_qos = QoSProfile(\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    history=HistoryPolicy.KEEP_LAST,\n    depth=1\n)\n\n# Usage\nself.joint_pub = self.create_publisher(\n    JointState, '/joints', reliable_qos\n)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"qos-comparison",children:"QoS Comparison"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Profile"}),(0,s.jsx)(e.th,{children:"Use Case"}),(0,s.jsx)(e.th,{children:"Trade-off"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Reliable"}),(0,s.jsx)(e.td,{children:"Commands, safety"}),(0,s.jsx)(e.td,{children:"Higher latency"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Best Effort"}),(0,s.jsx)(e.td,{children:"Sensors, video"}),(0,s.jsx)(e.td,{children:"Possible drops"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Transient Local"}),(0,s.jsx)(e.td,{children:"Late subscribers"}),(0,s.jsx)(e.td,{children:"Memory usage"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"25-humanoid-robot-description",children:"2.5 Humanoid Robot Description"}),"\n",(0,s.jsx)(e.h3,{id:"urdfxacro-format",children:"URDF/Xacro Format"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Properties --\x3e\n  <xacro:property name="torso_height" value="0.5"/>\n  <xacro:property name="leg_length" value="0.8"/>\n\n  \x3c!-- Base Link (Torso) --\x3e\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.3 0.2 ${torso_height}"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 0.8 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.2 ${torso_height}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="20.0"/>\n      <inertia ixx="0.5" iyy="0.5" izz="0.3"\n               ixy="0" ixz="0" iyz="0"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Right Hip Joint --\x3e\n  <joint name="right_hip_pitch" type="revolute">\n    <parent link="torso"/>\n    <child link="right_thigh"/>\n    <origin xyz="0.1 0 -0.25" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57"\n           effort="100" velocity="3.14"/>\n  </joint>\n\n  \x3c!-- Leg Macro --\x3e\n  <xacro:macro name="leg" params="prefix reflect">\n    <link name="${prefix}_thigh">\n      <visual>\n        <geometry>\n          <cylinder radius="0.05" length="0.4"/>\n        </geometry>\n      </visual>\n    </link>\n    \x3c!-- Additional joints and links --\x3e\n  </xacro:macro>\n\n  \x3c!-- Instantiate legs --\x3e\n  <xacro:leg prefix="right" reflect="1"/>\n  <xacro:leg prefix="left" reflect="-1"/>\n\n</robot>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"robot-state-publisher",children:"Robot State Publisher"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"# Launch file for robot state publisher\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.substitutions import Command\nimport os\n\ndef generate_launch_description():\n    urdf_file = os.path.join(\n        get_package_share_directory('humanoid_description'),\n        'urdf', 'humanoid.urdf.xacro'\n    )\n\n    return LaunchDescription([\n        Node(\n            package='robot_state_publisher',\n            executable='robot_state_publisher',\n            parameters=[{\n                'robot_description': Command(['xacro ', urdf_file])\n            }]\n        ),\n        Node(\n            package='joint_state_publisher_gui',\n            executable='joint_state_publisher_gui',\n        ),\n    ])\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"26-visualization-with-rviz2",children:"2.6 Visualization with RViz2"}),"\n",(0,s.jsx)(e.h3,{id:"basic-rviz2-configuration",children:"Basic RViz2 Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# config/humanoid.rviz\nPanels:\n  - Class: rviz_common/Displays\nVisualization Manager:\n  Displays:\n    - Class: rviz_default_plugins/RobotModel\n      Name: RobotModel\n      Topic:\n        Value: /robot_description\n    - Class: rviz_default_plugins/TF\n      Name: TF\n      Show Names: true\n    - Class: rviz_default_plugins/PointCloud2\n      Name: LiDAR\n      Topic:\n        Value: /scan\n  Global Options:\n    Fixed Frame: base_link\n"})}),"\n",(0,s.jsx)(e.h3,{id:"launching-rviz2",children:"Launching RViz2"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Launch with configuration\nros2 run rviz2 rviz2 -d config/humanoid.rviz\n\n# Or include in launch file\nNode(\n    package='rviz2',\n    executable='rviz2',\n    arguments=['-d', rviz_config_path]\n)\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"27-building-a-humanoid-package",children:"2.7 Building a Humanoid Package"}),"\n",(0,s.jsx)(e.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"humanoid_control/\n\u251c\u2500\u2500 CMakeLists.txt\n\u251c\u2500\u2500 package.xml\n\u251c\u2500\u2500 setup.py\n\u251c\u2500\u2500 humanoid_control/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 controller.py\n\u2502   \u2514\u2500\u2500 kinematics.py\n\u251c\u2500\u2500 launch/\n\u2502   \u2514\u2500\u2500 humanoid.launch.py\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 params.yaml\n\u2514\u2500\u2500 test/\n    \u2514\u2500\u2500 test_controller.py\n"})}),"\n",(0,s.jsx)(e.h3,{id:"packagexml",children:"package.xml"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd"?>\n<package format="3">\n  <name>humanoid_control</name>\n  <version>0.1.0</version>\n  <description>Humanoid robot control package</description>\n  <maintainer email="dev@example.com">Developer</maintainer>\n  <license>MIT</license>\n\n  <depend>rclpy</depend>\n  <depend>sensor_msgs</depend>\n  <depend>geometry_msgs</depend>\n  <depend>tf2_ros</depend>\n\n  <export>\n    <build_type>ament_python</build_type>\n  </export>\n</package>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"setuppy",children:"setup.py"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from setuptools import setup\n\npackage_name = 'humanoid_control'\n\nsetup(\n    name=package_name,\n    version='0.1.0',\n    packages=[package_name],\n    install_requires=['setuptools'],\n    entry_points={\n        'console_scripts': [\n            'controller = humanoid_control.controller:main',\n        ],\n    },\n)\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"28-tf2-transform-library",children:"2.8 TF2 Transform Library"}),"\n",(0,s.jsx)(e.h3,{id:"broadcasting-transforms",children:"Broadcasting Transforms"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from tf2_ros import TransformBroadcaster\nfrom geometry_msgs.msg import TransformStamped\n\nclass TransformPublisher(Node):\n    def __init__(self):\n        super().__init__('transform_publisher')\n        self.tf_broadcaster = TransformBroadcaster(self)\n        self.timer = self.create_timer(0.02, self.publish_transforms)\n\n    def publish_transforms(self):\n        t = TransformStamped()\n        t.header.stamp = self.get_clock().now().to_msg()\n        t.header.frame_id = 'world'\n        t.child_frame_id = 'base_link'\n\n        t.transform.translation.x = 0.0\n        t.transform.translation.y = 0.0\n        t.transform.translation.z = 1.0\n\n        t.transform.rotation.w = 1.0\n\n        self.tf_broadcaster.sendTransform(t)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"listening-to-transforms",children:"Listening to Transforms"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from tf2_ros import Buffer, TransformListener\n\nclass TransformReader(Node):\n    def __init__(self):\n        super().__init__('transform_reader')\n        self.tf_buffer = Buffer()\n        self.tf_listener = TransformListener(self.tf_buffer, self)\n\n    def get_hand_pose(self):\n        try:\n            trans = self.tf_buffer.lookup_transform(\n                'base_link',\n                'right_hand',\n                rclpy.time.Time()\n            )\n            return trans.transform\n        except Exception as e:\n            self.get_logger().error(f'Transform error: {e}')\n            return None\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ROS 2 provides the foundation for humanoid robot software"}),"\n",(0,s.jsx)(e.li,{children:"Core concepts include nodes, topics, services, and actions"}),"\n",(0,s.jsx)(e.li,{children:"QoS profiles control communication reliability"}),"\n",(0,s.jsx)(e.li,{children:"URDF/Xacro describes robot structure"}),"\n",(0,s.jsx)(e.li,{children:"TF2 manages coordinate frames"}),"\n",(0,s.jsx)(e.li,{children:"RViz2 enables 3D visualization"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"What are the four main communication patterns in ROS 2?"}),"\n",(0,s.jsx)(e.li,{children:"When would you use a service versus an action?"}),"\n",(0,s.jsx)(e.li,{children:"What is the purpose of QoS profiles?"}),"\n",(0,s.jsx)(e.li,{children:"How does TF2 help with humanoid robot control?"}),"\n",(0,s.jsx)(e.li,{children:"What are the key components of a ROS 2 package?"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"hands-on-exercises",children:"Hands-On Exercises"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Exercise 2.1"}),": Create a ROS 2 node that publishes simulated joint states for a 6-DOF arm at 100 Hz."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Exercise 2.2"}),": Write a URDF file for a simple 2-link arm with revolute joints."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Exercise 2.3"}),": Create a launch file that starts robot_state_publisher and RViz2 together."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"lab-simple-humanoid-simulation",children:"Lab: Simple Humanoid Simulation"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Create workspace\nmkdir -p ~/humanoid_ws/src\ncd ~/humanoid_ws/src\n\n# Create package\nros2 pkg create --build-type ament_python humanoid_sim\n\n# Build\ncd ~/humanoid_ws\ncolcon build\nsource install/setup.bash\n\n# Run\nros2 run humanoid_sim controller\n"})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>t,x:()=>a});var r=i(6540);const s={},o=r.createContext(s);function t(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);