"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[368],{6227(n,e,i){i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"gazebo-simulation","title":"Chapter 3: Gazebo Simulation for Humanoid Robots","description":"Learning Objectives","source":"@site/docs/03-gazebo-simulation.md","sourceDirName":".","slug":"/gazebo-simulation","permalink":"/Ai-Driven-Book-with-rag-chatbot/gazebo-simulation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"Chapter 2: ROS 2 Fundamentals for Humanoid Robotics","permalink":"/Ai-Driven-Book-with-rag-chatbot/ros2-basics"},"next":{"title":"Chapter 4: NVIDIA Isaac for Humanoid Development","permalink":"/Ai-Driven-Book-with-rag-chatbot/nvidia-isaac"}}');var r=i(4848),a=i(8453);const o={},l="Chapter 3: Gazebo Simulation for Humanoid Robots",t={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"3.1 Introduction to Gazebo",id:"31-introduction-to-gazebo",level:2},{value:"What is Gazebo?",id:"what-is-gazebo",level:3},{value:"Gazebo Versions",id:"gazebo-versions",level:3},{value:"3.2 Installation and Setup",id:"32-installation-and-setup",level:2},{value:"Installing Gazebo Harmonic",id:"installing-gazebo-harmonic",level:3},{value:"Verify Installation",id:"verify-installation",level:3},{value:"3.3 SDF Robot Models",id:"33-sdf-robot-models",level:2},{value:"SDF vs URDF",id:"sdf-vs-urdf",level:3},{value:"Basic Humanoid SDF",id:"basic-humanoid-sdf",level:3},{value:"3.4 Physics Properties",id:"34-physics-properties",level:2},{value:"Inertia Calculation",id:"inertia-calculation",level:3},{value:"Contact Properties",id:"contact-properties",level:3},{value:"3.5 Sensor Plugins",id:"35-sensor-plugins",level:2},{value:"IMU Sensor",id:"imu-sensor",level:3},{value:"RGB-D Camera",id:"rgb-d-camera",level:3},{value:"Force/Torque Sensor",id:"forcetorque-sensor",level:3},{value:"3.6 World Creation",id:"36-world-creation",level:2},{value:"Indoor Environment",id:"indoor-environment",level:3},{value:"3.7 ROS 2 Bridge Configuration",id:"37-ros-2-bridge-configuration",level:2},{value:"Bridge Topics",id:"bridge-topics",level:3},{value:"Launch with Bridge",id:"launch-with-bridge",level:3},{value:"3.8 Performance Optimization",id:"38-performance-optimization",level:2},{value:"Simulation Speed Tips",id:"simulation-speed-tips",level:3},{value:"Headless Simulation",id:"headless-simulation",level:3},{value:"Collision Optimization",id:"collision-optimization",level:3},{value:"3.9 Recording and Playback",id:"39-recording-and-playback",level:2},{value:"State Logging",id:"state-logging",level:3},{value:"ROS 2 Bag Recording",id:"ros-2-bag-recording",level:3},{value:"Chapter Summary",id:"chapter-summary",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Hands-On Exercises",id:"hands-on-exercises",level:2},{value:"Lab: Walking Simulation",id:"lab-walking-simulation",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"chapter-3-gazebo-simulation-for-humanoid-robots",children:"Chapter 3: Gazebo Simulation for Humanoid Robots"})}),"\n",(0,r.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Set up Gazebo simulation environments for humanoids"}),"\n",(0,r.jsx)(e.li,{children:"Create and configure robot models with physics properties"}),"\n",(0,r.jsx)(e.li,{children:"Implement sensor plugins for cameras, IMU, and force sensors"}),"\n",(0,r.jsx)(e.li,{children:"Design test environments and scenarios"}),"\n",(0,r.jsx)(e.li,{children:"Debug and optimize simulation performance"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"31-introduction-to-gazebo",children:"3.1 Introduction to Gazebo"}),"\n",(0,r.jsx)(e.h3,{id:"what-is-gazebo",children:"What is Gazebo?"}),"\n",(0,r.jsx)(e.p,{children:"Gazebo is a powerful 3D robotics simulator that provides:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Physics engines"}),": ODE, Bullet, DART, Simbody"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Sensor simulation"}),": Cameras, LiDAR, IMU, contact sensors"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Realistic rendering"}),": Lighting, shadows, materials"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"ROS integration"}),": Seamless communication with ROS 2"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"gazebo-versions",children:"Gazebo Versions"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Version"}),(0,r.jsx)(e.th,{children:"Status"}),(0,r.jsx)(e.th,{children:"ROS 2 Support"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Gazebo Classic"}),(0,r.jsx)(e.td,{children:"Legacy"}),(0,r.jsx)(e.td,{children:"ROS 2 via bridges"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Ignition Gazebo"}),(0,r.jsx)(e.td,{children:"Current"}),(0,r.jsx)(e.td,{children:"Native support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Gazebo Harmonic"}),(0,r.jsx)(e.td,{children:"Latest"}),(0,r.jsx)(e.td,{children:"Full ROS 2 Humble"})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"32-installation-and-setup",children:"3.2 Installation and Setup"}),"\n",(0,r.jsx)(e.h3,{id:"installing-gazebo-harmonic",children:"Installing Gazebo Harmonic"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# Add Gazebo repository\nsudo wget https://packages.osrfoundation.org/gazebo.gpg \\\n  -O /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg\n\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] \\\n  http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" \\\n  | sudo tee /etc/apt/sources.list.d/gazebo-stable.list > /dev/null\n\n# Install Gazebo\nsudo apt-get update\nsudo apt-get install gz-harmonic\n\n# Install ROS 2 integration\nsudo apt-get install ros-humble-ros-gz\n'})}),"\n",(0,r.jsx)(e.h3,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Launch empty world\ngz sim empty.sdf\n\n# Check ROS 2 bridge\nros2 run ros_gz_bridge parameter_bridge --help\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"33-sdf-robot-models",children:"3.3 SDF Robot Models"}),"\n",(0,r.jsx)(e.h3,{id:"sdf-vs-urdf",children:"SDF vs URDF"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"URDF"}),(0,r.jsx)(e.th,{children:"SDF"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Origin"}),(0,r.jsx)(e.td,{children:"ROS"}),(0,r.jsx)(e.td,{children:"Gazebo"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Physics"}),(0,r.jsx)(e.td,{children:"Basic"}),(0,r.jsx)(e.td,{children:"Advanced"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Sensors"}),(0,r.jsx)(e.td,{children:"Limited"}),(0,r.jsx)(e.td,{children:"Full support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Plugins"}),(0,r.jsx)(e.td,{children:"Separate"}),(0,r.jsx)(e.td,{children:"Integrated"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Worlds"}),(0,r.jsx)(e.td,{children:"No"}),(0,r.jsx)(e.td,{children:"Yes"})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"basic-humanoid-sdf",children:"Basic Humanoid SDF"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.9">\n  <model name="simple_humanoid">\n    <static>false</static>\n\n    \x3c!-- Torso --\x3e\n    <link name="torso">\n      <pose>0 0 1.0 0 0 0</pose>\n      <inertial>\n        <mass>30.0</mass>\n        <inertia>\n          <ixx>1.0</ixx>\n          <iyy>1.0</iyy>\n          <izz>0.5</izz>\n        </inertia>\n      </inertial>\n      <visual name="torso_visual">\n        <geometry>\n          <box><size>0.3 0.4 0.5</size></box>\n        </geometry>\n        <material>\n          <ambient>0.2 0.2 0.8 1</ambient>\n        </material>\n      </visual>\n      <collision name="torso_collision">\n        <geometry>\n          <box><size>0.3 0.4 0.5</size></box>\n        </geometry>\n      </collision>\n    </link>\n\n    \x3c!-- Right Thigh --\x3e\n    <link name="right_thigh">\n      <pose>0.1 0 0.6 0 0 0</pose>\n      <inertial>\n        <mass>5.0</mass>\n        <inertia>\n          <ixx>0.1</ixx>\n          <iyy>0.1</iyy>\n          <izz>0.02</izz>\n        </inertia>\n      </inertial>\n      <visual name="right_thigh_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.35</length>\n          </cylinder>\n        </geometry>\n      </visual>\n      <collision name="right_thigh_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.35</length>\n          </cylinder>\n        </geometry>\n      </collision>\n    </link>\n\n    \x3c!-- Right Hip Joint --\x3e\n    <joint name="right_hip_pitch" type="revolute">\n      <parent>torso</parent>\n      <child>right_thigh</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>200</effort>\n          <velocity>5.0</velocity>\n        </limit>\n        <dynamics>\n          <damping>0.1</damping>\n          <friction>0.1</friction>\n        </dynamics>\n      </axis>\n    </joint>\n\n    \x3c!-- Joint Controller Plugin --\x3e\n    <plugin\n      filename="gz-sim-joint-position-controller-system"\n      name="gz::sim::systems::JointPositionController">\n      <joint_name>right_hip_pitch</joint_name>\n      <p_gain>100</p_gain>\n      <d_gain>10</d_gain>\n    </plugin>\n\n  </model>\n</sdf>\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"34-physics-properties",children:"3.4 Physics Properties"}),"\n",(0,r.jsx)(e.h3,{id:"inertia-calculation",children:"Inertia Calculation"}),"\n",(0,r.jsx)(e.p,{children:"Proper inertia is critical for realistic simulation:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'# Calculate inertia for common shapes\nimport numpy as np\n\ndef box_inertia(mass, x, y, z):\n    """Calculate inertia tensor for a box."""\n    ixx = (1/12) * mass * (y**2 + z**2)\n    iyy = (1/12) * mass * (x**2 + z**2)\n    izz = (1/12) * mass * (x**2 + y**2)\n    return ixx, iyy, izz\n\ndef cylinder_inertia(mass, radius, length):\n    """Calculate inertia tensor for a cylinder (z-axis)."""\n    ixx = (1/12) * mass * (3*radius**2 + length**2)\n    iyy = ixx\n    izz = (1/2) * mass * radius**2\n    return ixx, iyy, izz\n\n# Example: humanoid thigh\nmass = 5.0  # kg\nradius = 0.05  # m\nlength = 0.35  # m\nprint(cylinder_inertia(mass, radius, length))\n# Output: (0.054, 0.054, 0.00625)\n'})}),"\n",(0,r.jsx)(e.h3,{id:"contact-properties",children:"Contact Properties"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<collision name="foot_collision">\n  <geometry>\n    <box><size>0.15 0.08 0.03</size></box>\n  </geometry>\n  <surface>\n    <friction>\n      <ode>\n        <mu>1.0</mu>\n        <mu2>1.0</mu2>\n      </ode>\n    </friction>\n    <contact>\n      <ode>\n        <kp>1e6</kp>\n        <kd>100</kd>\n        <max_vel>0.1</max_vel>\n        <min_depth>0.001</min_depth>\n      </ode>\n    </contact>\n  </surface>\n</collision>\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"35-sensor-plugins",children:"3.5 Sensor Plugins"}),"\n",(0,r.jsx)(e.h3,{id:"imu-sensor",children:"IMU Sensor"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<link name="imu_link">\n  <pose>0 0 1.0 0 0 0</pose>\n  <sensor name="imu_sensor" type="imu">\n    <always_on>true</always_on>\n    <update_rate>400</update_rate>\n    <imu>\n      <angular_velocity>\n        <x><noise type="gaussian">\n          <mean>0.0</mean>\n          <stddev>0.01</stddev>\n        </noise></x>\n      </angular_velocity>\n      <linear_acceleration>\n        <x><noise type="gaussian">\n          <mean>0.0</mean>\n          <stddev>0.1</stddev>\n        </noise></x>\n      </linear_acceleration>\n    </imu>\n    <plugin\n      filename="gz-sim-imu-system"\n      name="gz::sim::systems::Imu">\n    </plugin>\n  </sensor>\n</link>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"rgb-d-camera",children:"RGB-D Camera"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<link name="camera_link">\n  <pose>0 0 1.5 0 0 0</pose>\n  <sensor name="rgbd_camera" type="rgbd_camera">\n    <update_rate>30</update_rate>\n    <camera>\n      <horizontal_fov>1.047</horizontal_fov>\n      <image>\n        <width>640</width>\n        <height>480</height>\n        <format>R8G8B8</format>\n      </image>\n      <clip>\n        <near>0.1</near>\n        <far>10</far>\n      </clip>\n      <depth_camera>\n        <clip>\n          <near>0.1</near>\n          <far>10</far>\n        </clip>\n      </depth_camera>\n    </camera>\n    <plugin\n      filename="gz-sim-sensors-system"\n      name="gz::sim::systems::Sensors">\n      <render_engine>ogre2</render_engine>\n    </plugin>\n  </sensor>\n</link>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"forcetorque-sensor",children:"Force/Torque Sensor"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<joint name="ankle_ft_sensor" type="fixed">\n  <parent>shank</parent>\n  <child>foot</child>\n  <sensor name="ft_sensor" type="force_torque">\n    <update_rate>1000</update_rate>\n    <force_torque>\n      <frame>child</frame>\n      <measure_direction>child_to_parent</measure_direction>\n    </force_torque>\n  </sensor>\n</joint>\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"36-world-creation",children:"3.6 World Creation"}),"\n",(0,r.jsx)(e.h3,{id:"indoor-environment",children:"Indoor Environment"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.9">\n  <world name="humanoid_lab">\n    \x3c!-- Physics --\x3e\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n    </physics>\n\n    \x3c!-- Lighting --\x3e\n    <light type="directional" name="sun">\n      <cast_shadows>true</cast_shadows>\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <direction>-0.5 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Ground Plane --\x3e\n    <model name="ground_plane">\n      <static>true</static>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <plane><normal>0 0 1</normal></plane>\n          </geometry>\n          <surface>\n            <friction>\n              <ode><mu>1.0</mu></ode>\n            </friction>\n          </surface>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <plane><normal>0 0 1</normal><size>20 20</size></plane>\n          </geometry>\n          <material>\n            <ambient>0.8 0.8 0.8 1</ambient>\n          </material>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Stairs --\x3e\n    <model name="stairs">\n      <static>true</static>\n      <pose>3 0 0 0 0 0</pose>\n      <link name="step1">\n        <pose>0 0 0.1 0 0 0</pose>\n        <collision name="collision">\n          <geometry><box><size>0.3 1.0 0.2</size></box></geometry>\n        </collision>\n        <visual name="visual">\n          <geometry><box><size>0.3 1.0 0.2</size></box></geometry>\n        </visual>\n      </link>\n      <link name="step2">\n        <pose>0.3 0 0.3 0 0 0</pose>\n        <collision name="collision">\n          <geometry><box><size>0.3 1.0 0.2</size></box></geometry>\n        </collision>\n        <visual name="visual">\n          <geometry><box><size>0.3 1.0 0.2</size></box></geometry>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Include humanoid --\x3e\n    <include>\n      <uri>model://simple_humanoid</uri>\n      <pose>0 0 0.05 0 0 0</pose>\n    </include>\n\n  </world>\n</sdf>\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"37-ros-2-bridge-configuration",children:"3.7 ROS 2 Bridge Configuration"}),"\n",(0,r.jsx)(e.h3,{id:"bridge-topics",children:"Bridge Topics"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'# bridge_config.yaml\n- ros_topic_name: "/joint_states"\n  gz_topic_name: "/world/humanoid_lab/model/simple_humanoid/joint_state"\n  ros_type_name: "sensor_msgs/msg/JointState"\n  gz_type_name: "gz.msgs.Model"\n  direction: GZ_TO_ROS\n\n- ros_topic_name: "/cmd_vel"\n  gz_topic_name: "/model/simple_humanoid/cmd_vel"\n  ros_type_name: "geometry_msgs/msg/Twist"\n  gz_type_name: "gz.msgs.Twist"\n  direction: ROS_TO_GZ\n\n- ros_topic_name: "/imu/data"\n  gz_topic_name: "/world/humanoid_lab/model/simple_humanoid/link/imu_link/sensor/imu_sensor/imu"\n  ros_type_name: "sensor_msgs/msg/Imu"\n  gz_type_name: "gz.msgs.IMU"\n  direction: GZ_TO_ROS\n'})}),"\n",(0,r.jsx)(e.h3,{id:"launch-with-bridge",children:"Launch with Bridge"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    # Start Gazebo\n    gz_sim = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('ros_gz_sim'),\n                'launch',\n                'gz_sim.launch.py'\n            ])\n        ]),\n        launch_arguments={'gz_args': 'humanoid_lab.sdf'}.items()\n    )\n\n    # Start bridge\n    bridge = Node(\n        package='ros_gz_bridge',\n        executable='parameter_bridge',\n        arguments=[\n            '/joint_states@sensor_msgs/msg/JointState@gz.msgs.Model',\n            '/cmd_vel@geometry_msgs/msg/Twist@gz.msgs.Twist',\n            '/imu/data@sensor_msgs/msg/Imu@gz.msgs.IMU',\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([gz_sim, bridge])\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"38-performance-optimization",children:"3.8 Performance Optimization"}),"\n",(0,r.jsx)(e.h3,{id:"simulation-speed-tips",children:"Simulation Speed Tips"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Optimization"}),(0,r.jsx)(e.th,{children:"Benefit"}),(0,r.jsx)(e.th,{children:"Trade-off"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Larger time step"}),(0,r.jsx)(e.td,{children:"Faster simulation"}),(0,r.jsx)(e.td,{children:"Less accuracy"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Simplified collision"}),(0,r.jsx)(e.td,{children:"Faster physics"}),(0,r.jsx)(e.td,{children:"Less realism"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Lower sensor rate"}),(0,r.jsx)(e.td,{children:"Less computation"}),(0,r.jsx)(e.td,{children:"Coarser data"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Headless mode"}),(0,r.jsx)(e.td,{children:"No rendering cost"}),(0,r.jsx)(e.td,{children:"No visualization"})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"headless-simulation",children:"Headless Simulation"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Run without GUI\ngz sim -s humanoid_lab.sdf\n\n# Or with launch file\ngz_args: '-r -s humanoid_lab.sdf'  # -s for server only\n"})}),"\n",(0,r.jsx)(e.h3,{id:"collision-optimization",children:"Collision Optimization"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Use simplified collision geometry --\x3e\n<collision name="torso_collision">\n  <geometry>\n    \x3c!-- Use box instead of mesh --\x3e\n    <box><size>0.3 0.4 0.5</size></box>\n  </geometry>\n</collision>\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"39-recording-and-playback",children:"3.9 Recording and Playback"}),"\n",(0,r.jsx)(e.h3,{id:"state-logging",children:"State Logging"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Record simulation state\ngz sim -r humanoid_lab.sdf --record\n\n# Playback\ngz sim -p state.tlog\n"})}),"\n",(0,r.jsx)(e.h3,{id:"ros-2-bag-recording",children:"ROS 2 Bag Recording"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Record all topics\nros2 bag record -a\n\n# Record specific topics\nros2 bag record /joint_states /imu/data /camera/image_raw\n\n# Playback\nros2 bag play rosbag2_2024_01_01-12_00_00\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Gazebo provides realistic physics simulation for humanoids"}),"\n",(0,r.jsx)(e.li,{children:"SDF format offers advanced features over URDF"}),"\n",(0,r.jsx)(e.li,{children:"Proper physics properties are essential for realism"}),"\n",(0,r.jsx)(e.li,{children:"Sensor plugins simulate cameras, IMU, and force sensors"}),"\n",(0,r.jsx)(e.li,{children:"ROS 2 bridge enables seamless communication"}),"\n",(0,r.jsx)(e.li,{children:"Performance optimization is crucial for real-time factors"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"What are the advantages of SDF over URDF?"}),"\n",(0,r.jsx)(e.li,{children:"How do you calculate proper inertia values for robot links?"}),"\n",(0,r.jsx)(e.li,{children:"What sensor plugins are essential for humanoid simulation?"}),"\n",(0,r.jsx)(e.li,{children:"How does the ROS 2 bridge work with Gazebo?"}),"\n",(0,r.jsx)(e.li,{children:"What techniques optimize simulation performance?"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"hands-on-exercises",children:"Hands-On Exercises"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Exercise 3.1"}),": Create an SDF model for a simple 2-link leg and simulate it falling under gravity."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Exercise 3.2"}),": Add an IMU sensor to your model and visualize the data in ROS 2."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Exercise 3.3"}),": Create a world with stairs and test your humanoid model climbing them."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"lab-walking-simulation",children:"Lab: Walking Simulation"}),"\n",(0,r.jsx)(e.p,{children:"Build a complete simulation environment with:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Humanoid model with leg joints"}),"\n",(0,r.jsx)(e.li,{children:"IMU and foot force sensors"}),"\n",(0,r.jsx)(e.li,{children:"Flat ground and stair obstacles"}),"\n",(0,r.jsx)(e.li,{children:"ROS 2 bridge for joint control"}),"\n",(0,r.jsx)(e.li,{children:"Recording capability for analysis"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453(n,e,i){i.d(e,{R:()=>o,x:()=>l});var s=i(6540);const r={},a=s.createContext(r);function o(n){const e=s.useContext(a);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),s.createElement(a.Provider,{value:e},n.children)}}}]);